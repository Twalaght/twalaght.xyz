<!DOCTYPE html>
<html>
    <head>
        <title>Apex Map Tracker</title>
        <link rel="stylesheet" type="text/css" href="css/main.css">
    </head>

    <body onload="apexMap()">
        <h1>Apex Legends Map Tracker</h1>
        <p>The current map is:</p>
        <h2><p id="map"></p></h2>
        <strong><p id="timer"></p></strong>
        <p id="desc"></p>

        <script>
            function apexMap() {
                var cycle = ((new Date().getTime() / 60000) - 60) % 300

                var output
                var flavour
                var residual

                if (cycle < 120) {
                    output = "World's Edge"
                    residual = 120 - cycle
                } else if (cycle < 210) {
                    output = "Kings Canyon"
                    residual = 210 - cycle
                } else if (cycle < 270) {
                    output = "World's Edge"
                    residual = 270 - cycle
                } else {
                    output = "Kings Canyon"
                    residual = 300 - cycle
                }

                if (output == "World's Edge") {
                    flavour = "May the blessing of Matt be with you, brother"
                } else {
                    flavour = "I liked the thought of you a lot better"
                }

                var timer = "And will be for " + Math.ceil(residual) + " more minutes"

                document.getElementById("map").innerHTML = output
                document.getElementById("timer").innerHTML = timer
                document.getElementById("desc").innerHTML = flavour
            }
        </script>
    </body>
</html>